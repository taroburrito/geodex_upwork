webpackHotUpdate(0,{

/***/ 584:
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__(3), RootInstanceProvider = __webpack_require__(11), ReactMount = __webpack_require__(13), React = __webpack_require__(67); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _react = __webpack_require__(67);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(373);\n\nvar _reactGooglePlacesSuggest = __webpack_require__(436);\n\nvar _reactGooglePlacesSuggest2 = _interopRequireDefault(_reactGooglePlacesSuggest);\n\nvar _reactRouter = __webpack_require__(397);\n\nvar _reactDatetime = __webpack_require__(437);\n\nvar _reactDatetime2 = _interopRequireDefault(_reactDatetime);\n\nvar _reactAvatarEditor = __webpack_require__(585);\n\nvar _reactAvatarEditor2 = _interopRequireDefault(_reactAvatarEditor);\n\nvar _utilitiesRegexValidators = __webpack_require__(430);\n\nvar _actionsProfileActions = __webpack_require__(391);\n\n__webpack_require__(551);\n\nvar initialFormState = {\n    longitude: null,\n    latitude: null\n};\n\nvar EditProfile = (function (_Component) {\n    _inherits(EditProfile, _Component);\n\n    function EditProfile(props) {\n        _classCallCheck(this, EditProfile);\n\n        _get(Object.getPrototypeOf(EditProfile.prototype), 'constructor', this).call(this, props);\n        this.onFirstNameChange = this.onFirstNameChange.bind(this);\n        this.onLastNameChange = this.onLastNameChange.bind(this);\n        this.onEmailChange = this.onEmailChange.bind(this);\n        this.onDobChange = this.onDobChange.bind(this);\n        this.onGenderChange = this.onGenderChange.bind(this);\n\n        this.handleOnClickUpdate = this.handleOnClickUpdate.bind(this);\n        this.state = {\n            search: '',\n            selectedCoordinate: initialFormState,\n            errorMessage: null,\n            gender: null,\n            dob: null\n        };\n    }\n\n    _createClass(EditProfile, [{\n        key: 'handleSearchChange',\n        value: function handleSearchChange(e) {\n            var dispatch = this.props.dispatch;\n\n            dispatch((0, _actionsProfileActions.updateProfileInput)('address', e.target.value));\n            this.setState({ search: e.target.value });\n        }\n    }, {\n        key: 'handleSelectSuggest',\n        value: function handleSelectSuggest(suggestName, coordinate) {\n            this.setState({ search: suggestName, selectedCoordinate: coordinate });\n            var dispatch = this.props.dispatch;\n\n            dispatch((0, _actionsProfileActions.updateProfileInput)('address', suggestName));\n        }\n    }, {\n        key: 'handleOnClickUpdate',\n        value: function handleOnClickUpdate() {\n            var _props = this.props;\n            var userData = _props.userData;\n            var dispatch = _props.dispatch;\n\n            var newState = this.state.errorMessage;\n            if (userData.first_name === '') {\n                this.setState({ errorMessage: 'Please enter first name' });\n                this.refs.first_name.getDOMNode().focus();\n            } else if (userData.last_name === '') {\n                this.setState({ errorMessage: 'Please enter last name' });\n                this.refs.last_name.getDOMNode().focus();\n            } else if (userData.email === '') {\n                this.setState({ errorMessage: 'Please enter email' });\n                this.refs.email.getDOMNode().focus();\n            } else if (!(0, _utilitiesRegexValidators.validateEmail)(userData.email)) {\n                this.setState({ errorMessage: 'Please enter correct email address' });\n                this.refs.email.getDOMNode().focus();\n            } else if (userData.address === '') {\n                this.setState({ errorMessage: 'Please enter address' });\n                this.refs.address.getDOMNode().focus();\n            } else if (userData.dob === null) {\n                this.setState({ errorMessage: 'Please enter date of birth' });\n            } else {\n                this.setState({ errorMessage: null });\n                dispatch((0, _actionsProfileActions.updateUserProfileData)(userData));\n            }\n        }\n    }, {\n        key: 'onFirstNameChange',\n        value: function onFirstNameChange(event) {\n            var dispatch = this.props.dispatch;\n\n            dispatch((0, _actionsProfileActions.updateProfileInput)('first_name', event.target.value));\n        }\n    }, {\n        key: 'onLastNameChange',\n        value: function onLastNameChange(event) {\n            var dispatch = this.props.dispatch;\n\n            dispatch((0, _actionsProfileActions.updateProfileInput)('last_name', event.target.value));\n        }\n    }, {\n        key: 'onEmailChange',\n        value: function onEmailChange(event) {\n            var dispatch = this.props.dispatch;\n\n            dispatch((0, _actionsProfileActions.updateProfileInput)('email', event.target.value));\n        }\n    }, {\n        key: 'onDobChange',\n        value: function onDobChange(dob) {\n            var dispatch = this.props.dispatch;\n\n            dispatch((0, _actionsProfileActions.updateProfileInput)('dob', dob));\n        }\n    }, {\n        key: 'onGenderChange',\n        value: function onGenderChange(event) {\n            var dispatch = this.props.dispatch;\n\n            dispatch((0, _actionsProfileActions.updateProfileInput)('gender', event.target.value));\n        }\n    }, {\n        key: 'dateVal',\n        value: function dateVal(date) {\n            var dateval = new Date(date);\n            var month = dateval.getMonth() + 1;\n            var year = dateval.getFullYear();\n            var day = dateval.getDate();\n            return year + '/' + month + '/' + day;\n        }\n    }, {\n        key: 'getProfileImage',\n        value: function getProfileImage(img) {\n            console.log(img);\n            if (img) {\n                return img;\n            } else {\n                return \"public/images/user.jpg\";\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this = this;\n\n            var _props2 = this.props;\n            var dispatch = _props2.dispatch;\n            var userData = _props2.userData;\n            var search = this.state.search;\n\n            if (userData) {\n                var errorLabel;\n                if (this.state.errorMessage) {\n                    errorLabel = _react2['default'].createElement(\n                        'div',\n                        { className: 'uk-alert uk-alert-danger' },\n                        _react2['default'].createElement(\n                            'p',\n                            null,\n                            this.state.errorMessage\n                        )\n                    );\n                }\n                return _react2['default'].createElement(\n                    'div',\n                    null,\n                    _react2['default'].createElement(\n                        'div',\n                        { className: 'background_profile' },\n                        _react2['default'].createElement(\n                            'div',\n                            { className: 'uk-container uk-container-center' },\n                            _react2['default'].createElement(\n                                'div',\n                                { className: 'uk-grid uk-grid-large dash_top_head' },\n                                _react2['default'].createElement(\n                                    'div',\n                                    { className: 'uk-width-small-1-2' },\n                                    _react2['default'].createElement(\n                                        'div',\n                                        { className: 'uk-grid uk-grid-small' },\n                                        _react2['default'].createElement(\n                                            'div',\n                                            { className: 'uk-width-3-10 user\\'data_img_left' },\n                                            _react2['default'].createElement('img', { src: this.getProfileImage(userData.profile_image), className: '' }),\n                                            _react2['default'].createElement(\n                                                'a',\n                                                { href: '#', className: 'edit_profile_img_btn' },\n                                                'Edit ',\n                                                _react2['default'].createElement('i', { className: 'uk-icon-file-image-o' })\n                                            )\n                                        ),\n                                        _react2['default'].createElement(\n                                            'div',\n                                            { className: 'uk-width-7-10 pro_right' },\n                                            _react2['default'].createElement(\n                                                'h3',\n                                                null,\n                                                userData.first_name,\n                                                ' ',\n                                                userData.last_name,\n                                                ' '\n                                            ),\n                                            _react2['default'].createElement(\n                                                'h4',\n                                                null,\n                                                userData.address\n                                            ),\n                                            _react2['default'].createElement(\n                                                'h5',\n                                                null,\n                                                userData.email\n                                            )\n                                        )\n                                    )\n                                ),\n                                _react2['default'].createElement(\n                                    'a',\n                                    { href: '#', className: 'edit_profile_background_btn' },\n                                    'Edit ',\n                                    _react2['default'].createElement('i', { className: 'uk-icon-file-image-o' })\n                                )\n                            )\n                        )\n                    ),\n                    _react2['default'].createElement(\n                        'div',\n                        { className: 'uk-container uk-container-center middle_content profile profile_page' },\n                        _react2['default'].createElement(\n                            'div',\n                            { className: 'uk-grid uk-grid-large profile_bottom' },\n                            _react2['default'].createElement(\n                                'div',\n                                { className: 'uk-form uk-margin uk-form-stacked edit_profile uk-grid uk-grid-large uk-width-medium-1-1' },\n                                _react2['default'].createElement(\n                                    'div',\n                                    { className: 'uk-width-medium-1-3 profile-sidebar' },\n                                    _react2['default'].createElement(\n                                        'ul',\n                                        { className: 'uk-tab uk-tab-left uk-width-medium-1-1', 'data-uk-tab': '' },\n                                        _react2['default'].createElement(\n                                            'li',\n                                            { className: 'uk-active', 'aria-expanded': 'true' },\n                                            _react2['default'].createElement(\n                                                'a',\n                                                { href: '#' },\n                                                'Edit Profile'\n                                            )\n                                        ),\n                                        _react2['default'].createElement(\n                                            'li',\n                                            { className: '', 'aria-expanded': 'false' },\n                                            _react2['default'].createElement(\n                                                'a',\n                                                { href: '#' },\n                                                'Change Password'\n                                            )\n                                        ),\n                                        _react2['default'].createElement(\n                                            'li',\n                                            { 'aria-expanded': 'false', className: '' },\n                                            _react2['default'].createElement(\n                                                'a',\n                                                { href: '#' },\n                                                'Custom Design'\n                                            )\n                                        )\n                                    )\n                                ),\n                                _react2['default'].createElement(\n                                    'div',\n                                    { className: 'uk-width-medium-2-3 profile-form' },\n                                    errorLabel,\n                                    _react2['default'].createElement(\n                                        'div',\n                                        { className: 'uk-grid uk-grid-medium' },\n                                        _react2['default'].createElement(\n                                            'h4',\n                                            { className: 'uk-width-medium-1-1' },\n                                            'Personal Information'\n                                        ),\n                                        _react2['default'].createElement(\n                                            'div',\n                                            { className: 'uk-width-medium-1-2' },\n                                            _react2['default'].createElement(\n                                                'label',\n                                                { className: 'uk-form-label', 'for': 'form-gs-a' },\n                                                'First Name'\n                                            ),\n                                            _react2['default'].createElement(\n                                                'div',\n                                                { className: 'uk-form-controls' },\n                                                _react2['default'].createElement('input', { id: 'form-gs-a', placeholder: '', ref: 'first_name', className: 'uk-width-1-1', onChange: this.onFirstNameChange, value: userData.first_name, type: 'text' })\n                                            )\n                                        ),\n                                        _react2['default'].createElement(\n                                            'div',\n                                            { className: 'uk-width-medium-1-2' },\n                                            _react2['default'].createElement(\n                                                'label',\n                                                { className: 'uk-form-label', 'for': 'form-gs-b' },\n                                                'Last Name'\n                                            ),\n                                            _react2['default'].createElement(\n                                                'div',\n                                                { className: 'uk-form-controls' },\n                                                _react2['default'].createElement('input', { id: 'form-gs-b', placeholder: '', ref: 'last_name', onChange: this.onLastNameChange, value: userData.last_name, className: 'uk-width-1-1', type: 'text' })\n                                            )\n                                        )\n                                    ),\n                                    _react2['default'].createElement(\n                                        'div',\n                                        { className: 'uk-grid uk-grid-medium' },\n                                        _react2['default'].createElement(\n                                            'div',\n                                            { className: 'uk-width-medium-1-2' },\n                                            _react2['default'].createElement(\n                                                'label',\n                                                { className: 'uk-form-label', 'for': 'form-gs-a' },\n                                                'Email Id'\n                                            ),\n                                            _react2['default'].createElement(\n                                                'div',\n                                                { className: 'uk-form-controls' },\n                                                _react2['default'].createElement('input', { id: 'form-gs-a', placeholder: '', ref: 'email', onChange: this.onEmailChange, value: userData.email, className: 'uk-width-1-1', type: 'text' })\n                                            )\n                                        ),\n                                        _react2['default'].createElement(\n                                            'div',\n                                            { className: 'uk-width-medium-1-2' },\n                                            _react2['default'].createElement(\n                                                'label',\n                                                { className: 'uk-form-label', 'for': 'form-gs-b' },\n                                                'Location'\n                                            ),\n                                            _react2['default'].createElement(\n                                                'div',\n                                                { className: 'uk-form-controls' },\n                                                _react2['default'].createElement(\n                                                    _reactGooglePlacesSuggest2['default'],\n                                                    { onSelectSuggest: this.handleSelectSuggest.bind(this), search: search },\n                                                    _react2['default'].createElement('input', { className: 'uk-width-1-1 uk-form-large', type: 'text', ref: 'address', value: userData.address, placeholder: 'Search a location', onChange: this.handleSearchChange.bind(this) }),\n                                                    _react2['default'].createElement('input', { type: 'hidden', value: this.state.selectedCoordinate ? this.state.selectedCoordinate.latitude : '', ref: 'latitude' }),\n                                                    _react2['default'].createElement('input', { type: 'hidden', value: this.state.selectedCoordinate ? this.state.selectedCoordinate.longitude : '', ref: 'longitude' })\n                                                )\n                                            )\n                                        )\n                                    ),\n                                    _react2['default'].createElement(\n                                        'div',\n                                        { className: 'uk-grid uk-grid-medium' },\n                                        _react2['default'].createElement(\n                                            'div',\n                                            { className: 'uk-width-medium-1-2' },\n                                            _react2['default'].createElement(\n                                                'label',\n                                                { className: 'uk-form-label', 'for': 'form-gs-a' },\n                                                'Date of Birth'\n                                            ),\n                                            _react2['default'].createElement(\n                                                'div',\n                                                { className: 'uk-form-controls' },\n                                                _react2['default'].createElement(_reactDatetime2['default'], { value: this.dateVal(userData.dob), disableOnClickOutside: true, inputProps: { name: \"dob\", placeholder: \"Date of birth\" }, onChange: function (dob) {\n                                                        return _this.onDobChange(dob);\n                                                    }, input: true, className: \"dob\", closeOnSelect: true, viewMode: \"days\", timeFormat: false, dateFormat: 'YYYY-MM-DD' })\n                                            )\n                                        ),\n                                        _react2['default'].createElement(\n                                            'div',\n                                            { className: 'uk-width-medium-1-2' },\n                                            _react2['default'].createElement(\n                                                'label',\n                                                { className: 'uk-form-label', 'for': 'form-gs-b' },\n                                                'Gender'\n                                            ),\n                                            _react2['default'].createElement(\n                                                'div',\n                                                { className: 'uk-form-controls' },\n                                                _react2['default'].createElement(\n                                                    'div',\n                                                    { className: 'uk-width-small-1-2 gender_select' },\n                                                    _react2['default'].createElement('input', { name: 'gender', ref: 'radio_female', value: 'female', id: 'u_0_d', type: 'radio', onChange: this.onGenderChange, checked: userData.gender === 'female' }),\n                                                    _react2['default'].createElement(\n                                                        'label',\n                                                        { className: '_58mt', 'for': 'u_0_d' },\n                                                        ' Female '\n                                                    ),\n                                                    _react2['default'].createElement('input', { name: 'gender', ref: 'radio_male', value: 'male', id: 'u_0_e', type: 'radio', onChange: this.onGenderChange, checked: userData.gender === 'male' }),\n                                                    _react2['default'].createElement(\n                                                        'label',\n                                                        { className: '_58mt', 'for': 'u_0_e' },\n                                                        ' Male '\n                                                    )\n                                                )\n                                            )\n                                        )\n                                    )\n                                )\n                            )\n                        ),\n                        _react2['default'].createElement(\n                            'p',\n                            { className: 'text-align-right' },\n                            _react2['default'].createElement(\n                                'button',\n                                { className: 'uk-button uk-button-success uk-button-large', onClick: this.handleOnClickUpdate },\n                                'Update '\n                            ),\n                            _react2['default'].createElement(\n                                'a',\n                                { className: 'uk-button uk-button-large', href: '#/dashboard' },\n                                'Cancel'\n                            )\n                        )\n                    )\n                );\n            }\n        }\n    }]);\n\n    return EditProfile;\n})(_react.Component);\n\nexports['default'] = EditProfile;\n\nEditProfile.contextTypes = {};\n\nfunction select(state) {\n    return {\n        userData: state.userProfileData\n    };\n}\n\n// Wrap the component to inject dispatch and state into it\nexports['default'] = (0, _reactRedux.connect)(select)(EditProfile);\nmodule.exports = exports['default'];\n\n/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__(385); if (makeExportsHot(module, __webpack_require__(67))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error(\"Cannot not apply hot update to \" + \"EditProfile.jsx\" + \": \" + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)(module)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/front/EditProfile.jsx\n// module id = 584\n// module chunks = 0\n//# sourceURL=webpack:///./components/front/EditProfile.jsx?");

/***/ },

/***/ 585:
/***/ function(module, exports, __webpack_require__) {

	eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(global,factory){if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports,__webpack_require__(67),__webpack_require__(550)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))}else if(typeof exports!=='undefined'){factory(exports,require('react'),require('react-dom'))}else{var mod={exports:{}};factory(mod.exports,global.react,global.reactDom);global.index=mod.exports}})(this,function(exports,_react,_reactDom){'use strict';Object.defineProperty(exports,'__esModule',{value:true});var _react2=_interopRequireDefault(_react);var _reactDom2=_interopRequireDefault(_reactDom);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var isTouchDevice=!!(typeof window!=='undefined'&&typeof navigator!=='undefined'&&('ontouchstart'in window||navigator.msMaxTouchPoints>0));var draggableEvents={touch:{react:{down:'onTouchStart',mouseDown:'onMouseDown',drag:'onTouchMove',drop:'onTouchEnd',move:'onTouchMove',mouseMove:'onMouseMove',up:'onTouchEnd',mouseUp:'onMouseUp'},native:{down:'touchstart',mouseDown:'mousedown',drag:'touchmove',drop:'touchend',move:'touchmove',mouseMove:'mousemove',up:'touchend',mouseUp:'mouseup'}},desktop:{react:{down:'onMouseDown',drag:'onDragOver',drop:'onDrop',move:'onMouseMove',up:'onMouseUp'},native:{down:'mousedown',drag:'dragStart',drop:'drop',move:'mousemove',up:'mouseup'}}};var deviceEvents=isTouchDevice?draggableEvents.touch:draggableEvents.desktop;var drawRoundedRect=function drawRoundedRect(context,x,y,width,height,borderRadius){if(borderRadius===0){context.rect(x,y,width,height)}else{var widthMinusRad=width-borderRadius;var heightMinusRad=height-borderRadius;context.translate(x,y);context.arc(borderRadius,borderRadius,borderRadius,Math.PI,Math.PI*1.5);context.lineTo(widthMinusRad,0);context.arc(widthMinusRad,borderRadius,borderRadius,Math.PI*1.5,Math.PI*2);context.lineTo(width,heightMinusRad);context.arc(widthMinusRad,heightMinusRad,borderRadius,Math.PI*2,Math.PI*0.5);context.lineTo(borderRadius,height);context.arc(borderRadius,heightMinusRad,borderRadius,Math.PI*0.5,Math.PI);context.translate(-x,-y)}};var AvatarEditor=_react2.default.createClass({displayName:'AvatarEditor',propTypes:{scale:_react2.default.PropTypes.number,image:_react2.default.PropTypes.string,border:_react2.default.PropTypes.number,borderRadius:_react2.default.PropTypes.number,width:_react2.default.PropTypes.number,height:_react2.default.PropTypes.number,color:_react2.default.PropTypes.arrayOf(_react2.default.PropTypes.number),style:_react2.default.PropTypes.object,onDropFile:_react2.default.PropTypes.func,onLoadFailure:_react2.default.PropTypes.func,onLoadSuccess:_react2.default.PropTypes.func,onImageReady:_react2.default.PropTypes.func,onImageChange:_react2.default.PropTypes.func,onMouseUp:_react2.default.PropTypes.func,onMouseMove:_react2.default.PropTypes.func},getDefaultProps:function getDefaultProps(){return{scale:1,border:25,borderRadius:0,width:200,height:200,color:[0,0,0,0.5],style:{},onDropFile:function onDropFile(){},onLoadFailure:function onLoadFailure(){},onLoadSuccess:function onLoadSuccess(){},onImageReady:function onImageReady(){},onImageChange:function onImageChange(){},onMouseUp:function onMouseUp(){},onMouseMove:function onMouseMove(){}}},getInitialState:function getInitialState(){return{drag:false,my:null,mx:null,image:{x:0,y:0}}},getDimensions:function getDimensions(){return{width:this.props.width,height:this.props.height,border:this.props.border,canvas:{width:this.props.width+this.props.border*2,height:this.props.height+this.props.border*2}}},getImage:function getImage(){var cropRect=this.getCroppingRect();var image=this.state.image;cropRect.x*=image.resource.width;cropRect.y*=image.resource.height;cropRect.width*=image.resource.width;cropRect.height*=image.resource.height;var canvas=document.createElement('canvas');canvas.width=cropRect.width;canvas.height=cropRect.height;canvas.getContext('2d').drawImage(image.resource,-cropRect.x,-cropRect.y);return canvas},getImageScaledToCanvas:function getImageScaledToCanvas(){var _getDimensions=this.getDimensions();var width=_getDimensions.width;var height=_getDimensions.height;var canvas=document.createElement('canvas');canvas.width=width;canvas.height=height;this.paintImage(canvas.getContext('2d'),this.state.image,0);return canvas},getCroppingRect:function getCroppingRect(){var dim=this.getDimensions();var frameRect={x:dim.border,y:dim.border,width:dim.width,height:dim.height};var imageRect=this.calculatePosition(this.state.image,dim.border);return{x:(frameRect.x-imageRect.x)/imageRect.width,y:(frameRect.y-imageRect.y)/imageRect.height,width:frameRect.width/imageRect.width,height:frameRect.height/imageRect.height}},isDataURL:function isDataURL(str){if(str===null){return false}var regex=/^\\s*data:([a-z]+\\/[a-z]+(;[a-z\\-]+=[a-z\\-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\\-._~:@\\/?%\\s]*\\s*$/i;return!!str.match(regex)},loadImage:function loadImage(imageURL){var imageObj=new Image;imageObj.onload=this.handleImageReady.bind(this,imageObj);imageObj.onerror=this.props.onLoadFailure;if(!this.isDataURL(imageURL))imageObj.crossOrigin='anonymous';imageObj.src=imageURL},componentDidMount:function componentDidMount(){var context=_reactDom2.default.findDOMNode(this.refs.canvas).getContext('2d');if(this.props.image){this.loadImage(this.props.image)}this.paint(context);if(document){var nativeEvents=deviceEvents.native;document.addEventListener(nativeEvents.move,this.handleMouseMove,false);document.addEventListener(nativeEvents.up,this.handleMouseUp,false);if(isTouchDevice){document.addEventListener(nativeEvents.mouseMove,this.handleMouseMove,false);document.addEventListener(nativeEvents.mouseUp,this.handleMouseUp,false)}}},componentWillUnmount:function componentWillUnmount(){if(document){var nativeEvents=deviceEvents.native;document.removeEventListener(nativeEvents.move,this.handleMouseMove,false);document.removeEventListener(nativeEvents.up,this.handleMouseUp,false);if(isTouchDevice){document.removeEventListener(nativeEvents.mouseMove,this.handleMouseMove,false);document.removeEventListener(nativeEvents.mouseUp,this.handleMouseUp,false)}}},componentDidUpdate:function componentDidUpdate(prevProps,prevState){var context=_reactDom2.default.findDOMNode(this.refs.canvas).getContext('2d');context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height);this.paint(context);this.paintImage(context,this.state.image,this.props.border);if(prevProps.image!==this.props.image||prevProps.scale!==this.props.scale||prevState.my!==this.state.my||prevState.mx!==this.state.mx||prevState.image.x!==this.state.image.x||prevState.image.y!==this.state.image.y){this.props.onImageChange()}},handleImageReady:function handleImageReady(image){var imageState=this.getInitialSize(image.width,image.height);imageState.resource=image;imageState.x=0;imageState.y=0;this.setState({drag:false,image:imageState},this.props.onImageReady);this.props.onLoadSuccess(imageState)},getInitialSize:function getInitialSize(width,height){var newHeight=void 0;var newWidth=void 0;var dimensions=this.getDimensions();var canvasRatio=dimensions.height/dimensions.width;var imageRatio=height/width;if(canvasRatio>imageRatio){newHeight=this.getDimensions().height;newWidth=width*(newHeight/height)}else{newWidth=this.getDimensions().width;newHeight=height*(newWidth/width)}return{height:newHeight,width:newWidth}},componentWillReceiveProps:function componentWillReceiveProps(newProps){if(newProps.image&&this.props.image!==newProps.image){this.loadImage(newProps.image)}if(this.props.scale!==newProps.scale||this.props.height!==newProps.height||this.props.width!==newProps.width||this.props.border!==newProps.border){this.squeeze(newProps)}},paintImage:function paintImage(context,image,border){if(image.resource){var position=this.calculatePosition(image,border);context.save();context.globalCompositeOperation='destination-over';context.drawImage(image.resource,position.x,position.y,position.width,position.height);context.restore()}},calculatePosition:function calculatePosition(image,border){image=image||this.state.image;var dimensions=this.getDimensions();var width=image.width*this.props.scale;var height=image.height*this.props.scale;var widthDiff=(width-dimensions.width)/2;var heightDiff=(height-dimensions.height)/2;var x=image.x*this.props.scale-widthDiff+border;var y=image.y*this.props.scale-heightDiff+border;return{x:x,y:y,height:height,width:width}},paint:function paint(context){context.save();context.translate(0,0);context.fillStyle='rgba('+this.props.color.slice(0,4).join(',')+')';var borderRadius=this.props.borderRadius;var dimensions=this.getDimensions();var borderSize=dimensions.border;var height=dimensions.canvas.height;var width=dimensions.canvas.width;borderRadius=Math.max(borderRadius,0);borderRadius=Math.min(borderRadius,width/2-borderSize,height/2-borderSize);context.beginPath();drawRoundedRect(context,borderSize,borderSize,width-borderSize*2,height-borderSize*2,borderRadius);context.rect(width,0,-width,height);context.fill('evenodd');context.restore()},handleMouseDown:function handleMouseDown(e){e=e||window.event;e.preventDefault();this.setState({drag:true,mx:null,my:null})},handleMouseUp:function handleMouseUp(){if(this.state.drag){this.setState({drag:false});this.props.onMouseUp()}},handleMouseMove:function handleMouseMove(e){e=e||window.event;if(this.state.drag===false){return}var imageState=this.state.image;var lastX=imageState.x;var lastY=imageState.y;var mousePositionX=e.targetTouches?e.targetTouches[0].pageX:e.clientX;var mousePositionY=e.targetTouches?e.targetTouches[0].pageY:e.clientY;var newState={mx:mousePositionX,my:mousePositionY,image:imageState};if(this.state.mx&&this.state.my){var xDiff=(this.state.mx-mousePositionX)/this.props.scale;var yDiff=(this.state.my-mousePositionY)/this.props.scale;imageState.y=this.getBoundedY(lastY-yDiff,this.props.scale);imageState.x=this.getBoundedX(lastX-xDiff,this.props.scale)}this.setState(newState);this.props.onMouseMove()},squeeze:function squeeze(props){var imageState=this.state.image;imageState.y=this.getBoundedY(imageState.y,props.scale);imageState.x=this.getBoundedX(imageState.x,props.scale);this.setState({image:imageState})},getBoundedX:function getBoundedX(x,scale){var image=this.state.image;var dimensions=this.getDimensions();var widthDiff=Math.floor((image.width-dimensions.width/scale)/2);widthDiff=Math.max(0,widthDiff);return Math.max(-widthDiff,Math.min(x,widthDiff))},getBoundedY:function getBoundedY(y,scale){var image=this.state.image;var dimensions=this.getDimensions();var heightDiff=Math.floor((image.height-dimensions.height/scale)/2);heightDiff=Math.max(0,heightDiff);return Math.max(-heightDiff,Math.min(y,heightDiff))},handleDragOver:function handleDragOver(e){e=e||window.event;e.preventDefault()},handleDrop:function handleDrop(e){var _this=this;e=e||window.event;e.stopPropagation();e.preventDefault();if(e.dataTransfer&&e.dataTransfer.files.length){this.props.onDropFile(e);var reader=new FileReader;var file=e.dataTransfer.files[0];reader.onload=function(e){return _this.loadImage(e.target.result)};reader.readAsDataURL(file)}},render:function render(){var defaultStyle={cursor:this.state.drag?'grabbing':'grab'};var attributes={width:this.getDimensions().canvas.width,height:this.getDimensions().canvas.height,style:_extends({},defaultStyle,this.props.style)};attributes[deviceEvents.react.down]=this.handleMouseDown;attributes[deviceEvents.react.drag]=this.handleDragOver;attributes[deviceEvents.react.drop]=this.handleDrop;if(isTouchDevice)attributes[deviceEvents.react.mouseDown]=this.handleMouseDown;return _react2.default.createElement('canvas',_extends({ref:'canvas'},attributes))}});exports.default=AvatarEditor});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-avatar-editor/dist/index.js\n// module id = 585\n// module chunks = 0\n//# sourceURL=webpack:///./~/react-avatar-editor/dist/index.js?");

/***/ }

})